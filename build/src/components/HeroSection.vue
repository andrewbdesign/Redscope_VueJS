<template lang="html">
    <div id="hero-section">
		<div class="bg-image hero-bg-image"></div>
			<div id="video">
                <video id="video-el" playsinline muted autoplay loop > <!-- poster="img/about-hero-image.jpg" -->
                    <source src="" type="video/mp4">
                    <source src="" type="video/webm">
                </video>
            </div>

			<div class="hero-logo-container">
				<svg version="1.1" id="hero-logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					 width="591.495px" height="179.807px" viewBox="0 0 591.495 179.807" enable-background="new 0 0 591.495 179.807"
					 xml:space="preserve">
				<polygon fill="#DB1E26" points="165.426,97.215 157.425,89.216 157.425,127.808
					165.426,126.369 "/>
				<path fill="#DB1E26" d="M180.336,70.385c-1.676,0-3.396,0.123-5.113,0.365l-33.198,5.711
					v67.956l16.291-3.066l18.909-3.337c16.543-3.082,24.932-13.808,24.932-31.881c0-5.521-3.219-11.89-8.203-16.228
					c-3.645-3.173-9.84-6.695-18.66-5.471l-16.808,3.015l8.276,8.275l6.854-1.248c5.207-0.922,8.885,1.052,11.055,2.871
					c3.156,2.645,5.195,6.815,5.195,10.623c0,3.942,0,15.939-14.678,18.674l-19.763,3.557V85.966l19.556-3.506
					c9.605-1.335,16.328,2.493,20.287,5.938c5.4,4.701,8.889,11.663,8.889,17.736c0,19.179-8.939,30.566-26.572,33.849l-0.184-0.983
					l0.174,0.985l-18.901,3.336l-15.602,2.936l8.293,8.293l26.788-4.729c24.473-4.555,36.375-19.76,36.375-46.485
					C214.528,89.576,201.52,70.385,180.336,70.385z"/>
				<polygon fill="#DB1E26" points="95.598,153.914 95.598,136.183 128.6,130.36
					128.6,119.689 95.598,125.513 95.598,108.595 86.299,101.009 86.299,165.939 133.599,157.874 133.599,147.208 "/>
				<polygon fill="#DB1E26" points="84.299,98.05 124.099,91.65 124.099,79.989 72.299,88.961
					72.299,152.709 84.299,164.709 "/>
				<polygon fill="#FFFFFF" points="267.002,72.855 275.549,81.401 282.473,70.139
					273.928,61.593 "/>
				<polygon fill="#DB1E26" points="126.099,92.088 133.099,99.087 133.099,89.185
					126.099,81.407 "/>
				<path fill="#FFFFFF" d="M341.874,61.714c-9.604-4.09-17.24-3.814-23.336,0.851
					c-3.025,2.315-4.994,4.412-6.523,7.049c4.414-4.48,10.402-7.177,16.979-7.453c4.252-0.18,8.639,0.65,12.684,2.397
					c0.645,0.278,3.252,1.546,5.861,2.821L341.874,61.714z"/>
				<path fill="#FFFFFF" d="M258.792,107.775c0.98-1.558,1.197-3.342,0.646-5.305
					c-1.01-3.603-5.414-5.496-9.674-7.328c-2.428-1.044-4.723-2.03-6.439-3.334c-4.635-3.521-6.879-9.474-5.588-14.813
					c1.121-4.625,4.629-7.783,9.627-8.666c5.539-0.977,11.439,0.145,17.994,3.382l6.992-11.371c-4.973-2.902-10.58-4.377-16.758-4.377
					c-2.471,0-5.033,0.233-7.682,0.701c-10.451,1.843-18.949,8.148-22.18,16.456c-4.002,10.292,0.416,21.397,10.273,25.833
					c0.875,0.393,2.063,0.85,3.439,1.379c5.816,2.236,14.422,5.545,15.941,10.496C256.768,110.052,257.997,109.041,258.792,107.775z"/>
				<path fill="#FFFFFF" d="M296.063,87.812c-3.364-6.554-4.407-15.109-1.516-23.454
					c-0.041,0.074-0.084,0.147-0.127,0.222c-0.359,0.645-0.707,1.297-1.035,1.96c-0.018,0.038-0.039,0.076-0.059,0.114
					c-0.34,0.697-0.654,1.405-0.957,2.12c-0.082,0.196-0.162,0.394-0.242,0.592c-0.24,0.594-0.467,1.194-0.68,1.8
					c-0.051,0.147-0.107,0.292-0.158,0.439c-0.246,0.73-0.473,1.468-0.678,2.212c-0.053,0.187-0.098,0.375-0.146,0.562
					c-0.158,0.604-0.303,1.213-0.434,1.825c-0.041,0.195-0.086,0.39-0.125,0.585c-0.15,0.764-0.283,1.533-0.391,2.308
					c-0.02,0.137-0.031,0.274-0.049,0.411c-0.084,0.661-0.15,1.326-0.201,1.995c-0.018,0.215-0.033,0.431-0.047,0.647
					c-0.049,0.796-0.082,1.596-0.082,2.4v0.201c0,0.554,0.016,1.102,0.039,1.646c0.006,0.152,0.018,0.303,0.027,0.455
					c0.021,0.399,0.049,0.797,0.084,1.191c0.014,0.158,0.029,0.314,0.045,0.471c0.041,0.399,0.088,0.796,0.143,1.189
					c0.018,0.132,0.037,0.264,0.057,0.396c0.066,0.446,0.141,0.888,0.225,1.325c0.014,0.073,0.025,0.146,0.041,0.22
					c0.211,1.064,0.469,2.104,0.779,3.115c0.006,0.021,0.014,0.041,0.02,0.062c0.141,0.456,0.293,0.906,0.453,1.351
					c0.045,0.125,0.092,0.247,0.139,0.37c0.125,0.332,0.256,0.661,0.391,0.985c0.072,0.172,0.145,0.342,0.221,0.51
					c0.113,0.26,0.234,0.517,0.355,0.771c0.1,0.209,0.199,0.418,0.305,0.625c0.09,0.176,0.184,0.348,0.277,0.521
					c0.973,1.809,2.129,3.492,3.479,5.025c0.723,0.822,1.506,1.604,2.324,2.325l0.002,0.002c0.148,0.13,0.291,0.267,0.443,0.394
					c6.428,5.394,15.266,7.429,24.879,5.732c11.518-2.033,19.543-6.821,27.475-16.446l-8.314-6.931
					c-4.537,4.836-8.629,8.202-14.199,10.035c-1.285,0.423-2.648,0.765-4.115,1.022C313.015,104.091,301.743,98.876,296.063,87.812z"/>
				<path fill="#FFFFFF" d="M277.493,97.014c-0.912-0.837-1.887-1.618-2.906-2.368
					c1.074,1.487,1.967,3.1,2.596,4.816c1.721,4.688,1.529,9.694-0.539,14.098c-5.34,11.365-19.406,14.971-25.207,15.994
					c-2.113,0.373-4.295,0.556-6.502,0.556c-6.209,0-12.627-1.446-18.398-4.124l4.549,4.549c7.861,5.601,18.109,7.639,28.879,5.738
					c7.492-1.322,17.764-5.957,22.059-14.667C286.11,113.318,284.249,103.205,277.493,97.014z"/>
				<path fill="#FFFFFF" d="M251.088,127.585c5.494-0.969,18.803-4.359,23.744-14.877
					c1.84-3.915,2.008-8.375,0.473-12.557c-1.68-4.579-5.281-8.414-9.883-10.546c-1.428-0.589-2.93-1.15-4.539-1.679
					c-7.002-2.304-11.148-4.911-12.326-7.748c-0.516-1.243-0.463-2.498,0.156-3.729c0.75-1.49,1.939-2.489,3.535-2.969
					c4.668-1.406,11.967,1.999,17.66,5.11l-4.768-4.769c-6.436-3.304-12.139-4.456-17.43-3.522c-4.18,0.737-7.105,3.35-8.029,7.166
					c-1.109,4.579,0.842,9.703,4.854,12.75c1.521,1.156,3.705,2.095,6.02,3.089c4.471,1.924,9.541,4.104,10.809,8.627
					c0.709,2.528,0.414,4.854-0.879,6.908c-1.773,2.822-5.465,4.973-9.873,5.75c-7.219,1.275-13.857-0.14-20.816-4.45l-7.941,10.913
					C230.329,126.785,241.426,129.29,251.088,127.585z"/>
				<polygon fill="#DB1E26" points="14.062,169.24 1.065,171.534 9.339,179.807
					22.336,177.513 "/>
				<polygon fill="#DB1E26" points="124.753,93.571 87.658,99.537 96.875,107.055
					132.034,100.851 "/>
				<path fill="#DB1E26" d="M15.4,130.991c1.61-0.259,4.704-0.762,7.994-1.33l-0.067-7.376
					l-7.927-7.83V130.991z"/>
				<path fill="#DB1E26" d="M13.4,167.326v-22.401l13.438-2.371l18.94,18.856l16.597-2.873
					l-20.424-20.348l0.776-0.707c5.926-5.395,8.037-10.826,6.849-17.61c-1.508-8.597-11.067-10.995-19.312-9.587
					c-7.118,1.217-11.35,1.977-13.791,2.418l8.28,8.18c1.364-0.183,5.252-0.703,7.187-0.945c3.15-0.395,4.961,1.687,5.311,3.789
					c0.423,2.537-1.152,5.524-4.982,6.322c-6.147,1.279-17.598,3.084-17.713,3.102l-1.155,0.182v-22.107l2.118-0.381
					c2.327-0.422,6.66-1.205,14.409-2.529c9.191-1.57,19.874,1.268,21.618,11.212c1.249,7.128-0.884,13.101-6.706,18.718l7.712,7.684
					c6.007-4.598,9.738-10.674,10.808-17.646c1.232-8.028-1.186-16.98-6.467-23.945c-5.556-7.329-17.144-9.632-25.719-8.119L0,101.717
					v67.974L13.4,167.326z"/>
				<polygon fill="#DB1E26" points="15.4,167.75 23.393,175.742 23.326,156.177 15.4,148.191
					"/>
				<polygon fill="#DB1E26" points="127.535,117.846 120.612,110.917 97.598,114.728
					97.598,123.128 "/>
				<polygon fill="#DB1E26" points="16.457,146.416 24.659,154.679 34.295,152.799
					26.163,144.704 "/>
				<polygon fill="#DB1E26" points="132.58,145.357 126.271,138.78 97.598,143.797
					97.598,151.531 "/>
				<polygon fill="#DB1E26" points="55.778,171.408 72.333,168.489 64.109,160.265
					47.51,163.14 "/>
				<polygon fill="#FFFFFF" points="553.495,28.604 544.495,21.241 544.495,34.572
					553.495,33.08 "/>
				<polygon fill="#FFFFFF" points="554.774,55.968 585.431,50.558 578.153,43.279
					545.837,48.657 "/>
				<polygon fill="#FFFFFF" points="579.495,41.794 586.495,48.794 586.495,38.921
					579.495,31.922 "/>
				<polygon fill="#FFFFFF" points="590.419,65.364 584.151,59.097 555.495,63.817
					555.495,71.37 "/>
				<polygon fill="#FFFFFF" points="481.46,42.439 473.358,34.337 473.358,52.398
					481.46,51.079 "/>
				<path fill="#FFFFFF" d="M493.548,15.979c-2.609,0-5.236,0.235-7.811,0.7l-27.777,4.901
					v67.973l13.398-2.366V66.203l21.158-4.132c2.545-0.444,15.137-3.365,15.137-17.718c0-4.758-1.484-8.413-4.414-10.861
					c-3.533-2.953-9.201-4.076-15.166-3l-13.615,2.117l8.234,8.234l5.264-0.771c1.012-0.149,4.488-0.493,6.719,1.43
					c1.086,0.937,1.66,2.266,1.66,3.842c0,4.028-3.455,5.956-6.414,6.382l-18.563,3.022V31.067l16.385-2.548
					c6.516-1.174,12.797,0.11,16.779,3.439c3.404,2.846,5.131,7.016,5.131,12.395c0,12.372-9.035,18.336-16.773,19.685l-18.484,3.611
					l8.303,8.303l11.188-1.974c4.57-0.797,27.35-6.086,27.35-32.054C521.235,17.851,500.044,15.979,493.548,15.979z"/>
				<polygon fill="#FFFFFF" points="553.495,73.743 553.495,64.146 553.495,57.507
					544.495,50.143 544.495,86.011 591.495,77.886 591.495,67.208 "/>
				<polygon fill="#FFFFFF" points="582.653,13.584 545.835,19.752 554.774,27.066
					589.931,20.862 "/>
				<polygon fill="#FFFFFF" points="583.995,12.099 590.995,19.099 590.995,8.226
					583.995,1.226 "/>
				<polygon fill="#FFFFFF" points="542.495,47.186 577.495,41.361 577.495,31.127
					542.495,36.931 542.495,18.284 581.995,11.667 581.995,0 530.194,8.972 530.194,71.134 530.194,72.715 542.495,84.813 "/>
				<path fill="#FFFFFF" d="M352.333,69.347c1.803-2.398,6.928-9.214,8.584-11.417
					l-8.572-8.572l-8.584,11.414L352.333,69.347z"/>
				<path fill="#FFFFFF" d="M408.099,28.625c-22.088,0-40.127,17.614-40.84,39.533
					c0.061,20.442,13.719,33.643,34.836,33.643c16.633,0,33.834-12.082,33.834-32.301c0-14.27-12.045-25.879-26.854-25.879
					c-14.602,0-26.039,10.518-26.039,23.945c0,6.781,2.729,11.228,6.307,14.041c-1.752-2.632-2.703-5.945-2.703-9.516
					c0-9.688,6.82-19.986,19.459-19.986c9.561,0,17.338,7.803,17.338,17.395c0,9.906-11.732,18.395-21.338,18.395
					c-0.004,0-0.01,0-0.016,0c-0.477-0.03-0.867-0.015-1.289-0.042c-8.396-0.527-19.758-6.122-19.758-20.287
					c0-14.549,12.316-25.945,28.039-25.945c15.91,0,28.854,12.506,28.854,27.879c0,21.471-18.219,34.301-35.834,34.301
					c-11.145,0-20.434-3.683-26.9-10.086c7.451,10.095,19.424,16.658,32.904,16.658c22.539,0,40.873-18.336,40.873-40.873
					C448.972,46.961,430.638,28.625,408.099,28.625z"/>
				<path fill="#FFFFFF" d="M324.212,115.402c-2.328,0.412-4.619,0.615-6.846,0.615
					c-4.512,0-8.762-0.852-12.592-2.48l1.395,1.396c0.771,0.871,1.555,1.653,2.371,2.372c6.473,5.69,15.467,7.867,25.324,6.128
					c11.545-2.038,19.578-6.843,27.529-16.513l-8.586-8.587C344.569,108.302,336.212,113.285,324.212,115.402z"/>
				<polygon fill="#FFFFFF" points="473.358,87.613 481.358,95.613 481.358,77.441
					473.358,69.441 "/>
				<path fill="#FFFFFF" d="M321.882,43.527c-0.551,0.138-1.098,0.285-1.639,0.444
					c-0.217,0.063-0.434,0.125-0.648,0.191c-1.455,0.451-2.877,0.976-4.26,1.57c-0.203,0.087-0.402,0.178-0.604,0.268
					c-0.512,0.229-1.02,0.469-1.52,0.717c-0.195,0.097-0.391,0.191-0.584,0.291c-1.336,0.687-2.629,1.439-3.879,2.254
					c-0.178,0.116-0.352,0.235-0.527,0.354c-0.467,0.313-0.926,0.635-1.377,0.965c-0.133,0.097-0.266,0.192-0.395,0.29
					c-13.053,11.031-13.735,26.035-8.607,36.027c3.115,6.069,8.053,10.231,13.82,12.028c-1.15-1.078-2.125-2.407-2.92-3.982
					c-3.439-6.813-2.588-16.993-0.041-23.113c1.895-4.552,4.23-7.495,8.619-10.855c6.6-5.053,14.713-5.493,24.787-1.337l8.734-11.613
					c-0.113-0.087-0.227-0.176-0.34-0.261c-0.223-0.166-0.445-0.328-0.668-0.485c-0.24-0.17-0.482-0.335-0.723-0.497
					c-0.227-0.15-0.453-0.297-0.68-0.44c-0.242-0.153-0.488-0.3-0.732-0.445c-0.23-0.136-0.459-0.269-0.691-0.396
					c-0.246-0.136-0.494-0.266-0.742-0.394c-0.234-0.121-0.471-0.24-0.707-0.354c-0.252-0.12-0.504-0.232-0.758-0.344
					c-0.238-0.105-0.477-0.209-0.719-0.307c-0.258-0.104-0.518-0.201-0.777-0.297c-0.244-0.089-0.486-0.18-0.732-0.262
					c-0.266-0.088-0.533-0.168-0.801-0.249c-0.248-0.074-0.496-0.15-0.746-0.217c-0.273-0.073-0.551-0.138-0.828-0.203
					c-0.252-0.059-0.504-0.12-0.76-0.173c-0.283-0.058-0.57-0.106-0.857-0.155c-0.258-0.044-0.514-0.091-0.775-0.129
					c-0.295-0.043-0.598-0.075-0.898-0.109c-0.26-0.03-0.516-0.063-0.779-0.085c-0.313-0.027-0.633-0.044-0.953-0.063
					c-0.258-0.015-0.516-0.035-0.779-0.044c-0.332-0.011-0.672-0.011-1.01-0.013c-0.26-0.002-0.516-0.009-0.777-0.005
					c-0.359,0.005-0.725,0.023-1.09,0.039c-0.254,0.01-0.502,0.015-0.76,0.03c-0.393,0.024-0.797,0.061-1.199,0.096
					c-0.238,0.021-0.471,0.035-0.713,0.059c-0.451,0.046-0.916,0.107-1.379,0.167c-0.201,0.026-0.398,0.046-0.604,0.075
					c-0.672,0.095-1.357,0.203-2.055,0.326c-0.762,0.135-1.516,0.296-2.264,0.47C322.323,43.415,322.103,43.472,321.882,43.527z"/>
				<polygon fill="#FFFFFF" points="472.021,89.102 459.026,91.396 467.3,99.67
					480.294,97.376 "/>
				</svg>
				<div class="overlay-video"></div>
				<div class="arrow-container" style="display: none;">
					<img class="down-arrow" src="../assets/img/down-arrow.svg" alt="">
				</div>
			</div>
		</div>
</template>

<script>
export default {
    data() {
        return {

        }
    },
    mounted() {

        var md = new MobileDetect(window.navigator.userAgent);
        var isDesktop = true;
        var video = document.getElementById('video-el');
        window.makeVideoPlayableInline(video);

        var showVideo = true;
        if (showVideo) {
            isDesktop = true;
            if (md.phone() || md.tablet()) {
                isDesktop = false;

                if(iOSversion()[0] > 9) {
                    isDesktop = true;
                } else {
                    if(iOSversion() === undefined) {
                        isDesktop = true;
                    } else {
                        isDesktop = false;
                    }
                }
            }
        }
        var videoURL = 'https://andrewbdesign.github.io/Redscope_2017/hero-banner.mp4'
        if(videoURL !== "" && videoURL.indexOf('https://') > -1 && isDesktop) {
            videoSetup()
        } else {
            var tl = new TimelineMax()
        	tl.to('.arrow-container', 1.2, {autoAlpha:.7, ease:Power1.easeOut, onStart:function(){
        		$('.arrow-container').show()
        	}}, '0')
        }

        var downArrow = new TimelineMax({repeat: -1})
    	downArrow.to('.down-arrow', 1, {y:10, ease:Power1.easeOut}, '0')
    	downArrow.to('.down-arrow', 1, {y:0, ease:Power1.easeOut}, '1')

        function videoSetup() {
            $('#video').show();
            // var mp4 = 'https://firebasestorage.googleapis.com/v0/b/redscope-70f17.appspot.com/o/hero-banner.mp4?alt=media&token=75c74d57-4220-4ed3-af03-d05fdd6d44cc';
            // var webm = 'https://firebasestorage.googleapis.com/v0/b/redscope-70f17.appspot.com/o/hero-banner.webm?alt=media&token=c19b2d7c-0afe-438d-99b7-78b32d0cafd9';
            var mp4 = 'https://andrewbdesign.github.io/Redscope_2017/hero-banner.mp4';
            var webm = 'https://andrewbdesign.github.io/Redscope_2017/hero-banner.webm';

            var vid = document.getElementById('video-el');
            $('#video video > source:eq(0)').attr('src', mp4);
            $('#video video > source:eq(1)').attr('src', webm);
            $('#video video').load();

            $('#video video').bind('loadeddata', function (e) {
            if (vid.readyState == 3 || vid.readyState == 4 || vid.readyState == 2 || vid.readyState == 'complete' || vid.readyState == 'loaded') {
                $('.bg-image').hide();
            } });
            var bgImage01 = 'https://andrewbdesign.github.io/Redscope_2017/hero-banner.mp4'
            $('#video video').bind('error', function (e) {
                $('#video').hide();
                $('.bg-image-01').attr('src', bgImage01);
            });
            startAnimation();
        }

        function startAnimation() {
            console.log('show video')
            var tl = new TimelineMax()
        	tl.to('#video', 2, {autoAlpha:1, ease:Power1.easeOut}, '0')
        	tl.to('.arrow-container', 1.2, {autoAlpha:.7, ease:Power1.easeOut, onStart:function(){
        		$('.arrow-container').show()

        	}}, '0')
            tl.add(addBgImage, '3')

        }

        function addBgImage() {
            // $('#video-el').attr('poster', '/static/img/about-hero-image.jpg')
            $('.bg-image.hero-bg-image').css('background-image', '/static/img/about-hero-image.jpg')
        }

        function iOSversion() {
            if (/iP(hone|od|ad)/.test(navigator.platform)) {
                var v = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];
            }
        }
    }
}
</script>

<style lang="scss" scoped>
#hero-section {
	position: relative;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100%;
	height: calc(100vh + 1px);
	background: #000;
	video {
		position: absolute;
		top: 50%;
		left: 50%;
		min-width: 100%;
		min-height: 100%;
		width: auto;
		height: auto;
		z-index: 0;
		transform: translateX(-50%) translateY(-50%);
	}
	.hero-logo-container {
		position: relative;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		width: 100%;
		height: 100%;

		#hero-logo {
			position: absolute;
			left: 0;
			right: 0;
			bottom: 0;
			top: 0;
			margin: auto;
			max-width: 360px;
			width: 80%;
			z-index: 20;
		}
	}
	#video,
	.bg-image {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-size: cover;
		background-position: 50% 50%;
		overflow: hidden;
	}
	#video {
		opacity: 0;
	}
	.overlay-video {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: #000;
		z-index: 1;
		opacity: .5;
	}
}

.right-copy-home {
    position: relative;
    top: 70px;
}

.arrow-container {
	position: absolute;
	top: 87%;
	left: 0;
	right: 0;
	bottom: 0;
	margin: auto;
	z-index: 3;
	height: 60px;
	text-align: center;
	border-radius: 22px;
	color: #fff;
	// cursor: pointer;
}

.down-arrow {
	// position: relative;

}
</style>
